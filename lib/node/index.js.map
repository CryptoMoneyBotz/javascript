{"version":3,"sources":["node/index.js"],"names":["setup","db","Database","cbor","Cbor","CborReader","decode","base64String","Buffer","from","networking","Networking","keepAlive","del","get","post","patch","proxy","file","sdkFamily","ssl","File","PubNubFile","PubNubCore"],"mappings":";;;;;;;;;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;AAGE,oBAAYA,KAAZ,EAAwC;AAAA;;AAAA;AACtCA,IAAAA,KAAK,CAACC,EAAN,GAAW,IAAIC,kBAAJ,EAAX;AACAF,IAAAA,KAAK,CAACG,IAAN,GAAa,IAAIC,mBAAJ,CACXC,qBAAWC,MADA,EAEX,UAACC,YAAD;AAAA,aAAkB,IAAIC,MAAM,CAACC,IAAX,CAAgBF,YAAhB,EAA8B,QAA9B,CAAlB;AAAA,KAFW,CAAb;AAIAP,IAAAA,KAAK,CAACU,UAAN,GAAmB,IAAIC,sBAAJ,CAAe;AAAEC,MAAAA,SAAS,EAATA,eAAF;AAAaC,MAAAA,GAAG,EAAHA,YAAb;AAAkBC,MAAAA,GAAG,EAAHA,YAAlB;AAAuBC,MAAAA,IAAI,EAAJA,aAAvB;AAA6BC,MAAAA,KAAK,EAALA,cAA7B;AAAoCC,MAAAA,KAAK,EAALA,WAApC;AAA2CC,MAAAA,IAAI,EAAJA;AAA3C,KAAf,CAAnB;AACAlB,IAAAA,KAAK,CAACmB,SAAN,GAAkB,QAAlB;;AAEA,QAAI,EAAE,SAASnB,KAAX,CAAJ,EAAuB;AACrBA,MAAAA,KAAK,CAACoB,GAAN,GAAY,IAAZ;AACD;;AAED,oHAAMpB,KAAN;AAEA,UAAKqB,IAAL,GAAYC,gBAAZ;AAfsC;AAgBvC;;;EAjB0BC,wB","sourcesContent":["/* @flow */\n\nimport CborReader from 'cbor-sync';\nimport PubNubCore from '../core/pubnub-common';\nimport Networking from '../networking';\nimport Database from '../db/common';\nimport Cbor from '../cbor/common';\nimport PubNubFile from './file';\nimport { del, get, patch, post, file } from '../networking/modules/web-node';\nimport { keepAlive, proxy } from '../networking/modules/node';\nimport { InternalSetupStruct } from '../core/flow_interfaces';\n\nexport default class extends PubNubCore {\n  constructor(setup: InternalSetupStruct) {\n    setup.db = new Database();\n    setup.cbor = new Cbor(\n      CborReader.decode,\n      (base64String) => new Buffer.from(base64String, 'base64')\n    );\n    setup.networking = new Networking({ keepAlive, del, get, post, patch, proxy, file });\n    setup.sdkFamily = 'Nodejs';\n\n    if (!('ssl' in setup)) {\n      setup.ssl = true;\n    }\n\n    super(setup);\n\n    this.File = PubNubFile;\n  }\n}\n"],"file":"index.js"}